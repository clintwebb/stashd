stash
tasks to do


 *  File splitting (command line option, defaults).

 *  remove control structure, and instead use global variables.  There is no point at all in using the control structure.

 *  when deleting a table or a namespace, need to go through each user and check the rights list and remove all rights that point to the table or namespace we are deleting.

 *  stashd needs to handle locking of tables/names.

 *  create tool to revoke rights.

 *  create tool to backup data sources (force a datafile split, and backup everything except that last file).

 *  create tool to compact the data source (see notes/compact_tool.txt)

 *  the connections need to take the priority into account when establishing connections.  First iteration allows for it to just attempt the first, and if that drops off, try the next... and so on.

 *  stashd does not shutdown cleanly while a client is connected.
       stashd: stashd.c:501: client_shutdown: Assertion `client->closing == 0' failed.

 *  stashd needs a startup option which indicates that text threshold that forces text to be written out to seperate files instead of being included in the main file.   We should also include an option when querying data to also include external data.  Normally this would not be wanted, but could very well be needed in some instances.
 
 *  manpage: stashd
 *  manpage: stash-create-namespace
 *  manpage: stash-dump
 *  manpage: stash-testplan
 *  manpage: stash-create-table
 *  manpage: stash-grant
 *  manpage: stash-adduser
 *  manpage: stash-create
 *  manpage: stash-setpassword

 *  Investigate whether a REST (http) interface is feasible.  Ideally it could return a JSON structure.

 *  Push to slave

 *  Pull to slave

 *  stash backup instance.

 *  Not very happy that all the command line tools that access the files directly, need to link in libevent and other things that really aren't needed.  THerefore, I think we need to split up stash-common even further, maybe into its own library.   Then the stash tools can be put in a seperate repository and kept seperate from the bare daemon.




